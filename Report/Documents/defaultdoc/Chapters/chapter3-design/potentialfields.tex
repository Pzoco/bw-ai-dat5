\section{Potential fields}
	Potential fields can be used to control a computer AI through a dynamically updated environment. 
	If one would program an AI, which should move from one point to another, one would most likely use a normal shortest path algorithms. 
	The problem is, though, that if a lot of dynamic influences are affecting the route this calculation can be very complex. It could be 
	enemies that should be avoided or other dynamic influences. \\
	
	That is why potential field are good for such a problem. It works by generating either attractive or repulsive fields of vectors $v=(m\times d )$. 
	Where $m$ is the magnitude and $d$ is the direction. 
	If we create an attractive potential field the point will be surrounded with vectors pointing toward this point, 
	as seen in figure \ref{fig:seekbehavior}. 
	The bot will be attracted towards this point, the magnitude determines how attracted it will be and the direction, 
	just shows in which way the bot is directed. This is called a Attractive behaviour 
	
	\insertmarginfigure{height=3in}{Potentialfields/seek.png}
		{Attractive behavior\cite{pft}}{fig:seekbehavior}{-3in}
	
	Likewise if we assume there is only a single obstacles in the area (a unit we do not want to attack) it would generate a repulsive field around it, 
	see figure \ref{fig:avoidbehavior}. This is called the Repulsive behaviour because it causes our own units to try and move away from it.

	\insertmarginfigure{height=3in}{Potentialfields/avoid.png}
		{Repulsive behavior\cite{pft}}{fig:avoidbehavior}{-3in}
		
	These two kind of behaviours can then be combined to make a map that can tell our unit 
	how to move around enemy units and reach a specific target as seen in figure \ref{fig:combinedbehavior}.
	
	\insertmarginfigure{height=3in}{Potentialfields/combined.png}
		{Combined behavior\cite{pft}}{fig:combinedbehavior}{-3in}
		
	\subsection{Designing our potential field functions}		
		The potential fields of our bot, will not be represented by a vector, but simply a number which indicates how attractive or repulsive a field is. 
		This number is calculated by functions, which is either attractive and/or repulsive and is related to the obstacles in the game world. 
		
		The reason we use numbers is we want to only calculate the potential on the tiles \footnote{A tile represents an 8px$\times8px$ square. This is the smallest area a units can stand on or move to.} immediately around the units, so the direction is given relative to the number at the current location. As seen in figure \ref{fig:vectorsAsNumbers}
		\insertmarginfigure{height=1.5in}{Potentialfields/vectors.png}
		{Vector direction relative to center}{fig:vectorsAsNumbers}{-3in}
		\\
		
		\subsubsection{Two examples of potential field functions}
		Our functions will be described with the following math: \\
		
		Variables:\\
		$f =$ force\\
		$s =$ size of the potential field\\
		$c =$ constant\\
		$d =$ distance\\
		
		\begin{displaymath}
			%\begin{math}
			Attractive = \begin{cases}
					f * c & \text{if $d < s$}\\
					0 & \text{else}
				\end{cases}		
			%\end{math}
		\end{displaymath}
			
		\begin{displaymath}
			%\begin{math}
			Repulsive = \begin{cases}
					0 & \text{if $d > s$}\\
					- f * c & \text{else}
				\end{cases}		
			%\end{math}
		\end{displaymath}
		
		
