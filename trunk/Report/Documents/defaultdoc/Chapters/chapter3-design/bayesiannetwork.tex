\section{Bayesian Network}\label{bayesian_network}
This section will describe the Bayesian networks we made to predict the enemy's spawning position, what build order they are doing and what the current 
threatlevel is. The next subsection describes the network created for predicting the enemy spawn position.




\subsection{Prediction of enemy spawn position}			 
			
The purpose of this Bayesian network is to find our opponent's spawning position. Some factors taken into account are our spawn position, enemy scouts, and time into account to help us predict this. We wanted to make this network usable on a variety of maps. Below is a visual representation of how each node is connected in the network.
%Why do we represent time as almost none, early, middle, and late?
%actual time for these times - refrace.

\insertmarginfigure{height=3in}{BayesianPictures/SpawnPrediction.png}
			{A graph of the nodes in the Spawn Prediction Bayesian network}{fig:predicting}{-3in}


\subsubsection*{EnemySpawn}
The correct state in this node is the value we are trying to discover. Ultimately, all of the evidence we collect, will be used to find this state. Most of the other variable have direct links from this node. Once we know the state of this, we are satisfied and do not need to use the network to infer more information because we do not care about predicting any of the other states.

\subsubsection*{OurSpawn}
This node is a child of EnemySpawn. We can use the values in this node to determine where the enemy does not spawn. We simply say that the enemy cannot spawn where we spawn at. At the beginning of a match we know where we spawn and can instantly put evidence on the OurSpawn node. This instantly reduces the change for our opponent to be at any other spawning location to 33\%.

\subsubsection*{EnemyNotAt(NE,SE,SW,NW)}
These nodes are used to keep track of positions we know our opponent did not spawn. Since a node can only be in one state at a time, we made four nodes that can influence the probabilities in enemy spawn. Ways we would generally get these values could be our own scouts arriving at a position and not finding our opponent.

\subsubsection*{WorkerScoutPosition} This is one of the most important variables. When we observe an enemy worker at a certain position we can influence our belief on our opponents spawn position. TimingSeen is a parent of this node. We use the information from this node to help our prediction. Just seeing an enemy at a certain position isn't enough. We need the time we see the enemy scout to help us form our beliefs. Whenever we obtain evidence on WorkerScoutPosition we will also always gather information on TimingSeen.

\subsubsection*{TimingSeen} This node is used to help us use the information from WorkerScoutPosition. It has the values: Almost None, Early, Middle, and Late. These values are the times we may see the opponent's scout. Since the values for timing depend on both map size and map layout, we purposely make the values broad.


\subsubsection*{OverlordDirection} This node is fairly simple and contributes a lot in predicting the spawn location. Since overlords are so slow, a player will be able to use the direction the overlord is coming from to predict the spawn location. By the time an overlord would have visited two bases we probably already know where the enemy's base is. This variable may seem really useful, but it only helps when fighting against zerg players. The overlord can take a while to get to even its first base, and by then we might have already needed to know where our opponent is. EnemySpawn is a parent of OverlordDirection. Once we know the direction the overlord is coming from we gain a lot of information on the enemy's spawn position.

\subsection{Build Order Prediction}
This subsection describes the Bayesian networks that was created for predicting that buildorder the enemy is doing. There are three different networks, one each for every race that the bot can encounter: Terran versus Terran, Terran versus Protoss and Terran vs Zerg.

\subsubsection{Terran versus Terran}
	This network will try to predict the following buildorders: Proxy Rush, 2 Factory Vulture Pressure, 1 Factory Expand, 1 Starport Wraith and Stim Rush. 
	Every building which is used in the buildorders are put as a node in the network. The numbers in the node names are how many of the given unit the 
	enemy have, e.g. Barracks2 means the second barracks the bot scouts. The order in which the buildings come is also modelled with the arrows, 
	e.g. the node for Factory2 points to the node for Factory1. Each of the building nodes have the states Seen and NotSeen, though Seen is only used when 
	presenting evidence, because the bot will never be able to prove that the enemy building does not exist. As the evidence is presenting the buildorder 
	probabilities rises according to how many buildings it needs have evidence on them, this gives a prediction of the given buildorders.
	
\subsubsection{Terran versus Protoss}
This model consists of six nodes, named BuildChosen, GateWay1, Nexus, Assimilator, CyberneticsCore and Gateway2. These six nodes are chosen  because they are the required buildings in order to do four will known build orders. The four build orders are TwoGate, Basic Order, 10/15 and 14 Nexus.
The two gate tactic is building two early gateways and there by making a early attack. The Basic build is a gateway at 10 supply, an assimilator at 12 and a cybernetics core at 14. The build order 10/15 is where you build a Gateway at 10 supply, an assimilator at 11 a cybernetics core at 13  and a 
another gateway at 15. The build order 14 Nexus is named so because the protoss waits until 14 supply to build a nexus as the first building. \\
As seen in the figure, there is a parent node BuildChosen this node have the four build orders as states, so by putting evidence on some of the child nodes, the bot will know the probability of the different build orders. So if the scout finds a new nexus the opponent is probably using the build order
14 Nexus. If the scout on the other hand see two gateways without cybernetics core the probability is high that it is a two gate build order. It is more unclear what the build order is if the scout see a Gateway, an assimilator and a cybernetics core. Because it could be a  

%NEED figure

\subsubsection{Terran vs Zerg}
	This network will try to predict the following buildorders: 2 Hatch Muta, 3 Hatch Muta, 3 Hatch Lurker and Early Pool Rush, 
	where Early Pool Rush is a 4pool or 5pool. Every building which is used in the buildorders are put as a node in the network. 
	The numbers in the node names are how many of the given unit the enemy have, e.g. Hatchery2 means the second hatchery the bot scouts. 
	The order in which the buildings come is also modelled with the arrows, 
	e.g. the node for Hatchery3 points to the node for Hatchery2. Each of the building nodes have the states Seen and NotSeen, 
	though Seen is only used when presenting evidence, because the bot will never be able to prove that the 
	enemy building does not exist. As the evidence is presenting the buildorder 
	probabilities rises according to how many buildings it needs have evidence on them, this gives a prediction of the given buildorders.

\subsection{Threat Level Prediction}
	This prediction is closely related to the prediction of the buildorder the enemy is doing. A buildorder have a certain time where it is effective 
	or where it hits. So determine what the current threatlevel is two nodes have to be added to each of the buildorder prediction networks, ThreatLevel 
	and Time. PUT FIGURE OF THIS HERE.

%\subsection{Conclusion of Bayesion Network}
%	We can apply Bayesion networks to the scouting and threat level prediction, by analyzing the opponent's army and build order. To calculate the predictions, we hat to take race into account. By doing this one can calculate what to expect and
%	thereby have a advantage over the opponent. In order to build the Bayesion network, one had to create the necessary nodes for spawns and scouting.
	












 
