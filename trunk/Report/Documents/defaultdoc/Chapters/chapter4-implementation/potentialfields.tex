\section{Implementing ootential fields}
	In this section we will look at the implementation of the potential fields.
	First the general structure we put in place, then each of the different potential fields. When we describe the individually potential fields all other fields will be turned off, so we only observe the desired field.
	
	\subsection{General structure}
	% TALK ABOUT _constants and _parameters
	
	
	
	\subsection{Squad center)}	
		\begin{Sourcecode}[caption=Squad center]
double UnitAgent::CalculateSquadCenterPotential(BWAPI::Position pos)
{
	(*@\lnote@*)int dsv = pos.getApproxDistance(_parameters.squadPos);
	(*@\lnote@*)if(dsv >= _parameters.ds){	return 0;	}
	(*@\lnote@*)else if(_parameters.ds > _constants.SQUADDISTANCE_CONSTANT)
	{
		int returning = (_parameters.ds - dsv )* _constants.FORCESQUAD;
		return returning;
	}
	(*@\lnote@*)else{	return 0;	}
}
\end{Sourcecode}

		Recall from section \ref{SCA_label}:
		\begin{itemize}
			\item  dsv is distance from center of army to current point.
			\item  ds is distance from center of army to unit.
		\end{itemize}
		$F_{S}$ is named \textit{SQUADDISTANCE\_CONSTANT} in the code.
		
		\textit{CalculateSquadCenterPotential} takes as an input the tile that we are calculation potentield on. This is so the distance to the the squad from this particular field can be calculated, aldo called \textit{dsv} in \lnnum{1}, and then in \lnnum{2},\lnnum{3} and \lnnum{4} we check the three different cases described in section \ref{SCA_label}.		
		
		All theses three cases can be opserved in figure \ref{fig:SCA}, the selected unit is attracted towards the squad and not attracted to the tiles facing away. The other units are within the desired range of each other so they don't want to move.
		\insertmarginfigure{height=2in}{PotentialfieldsImplementation/Squadcenter.png}
			{Squad center attraction}{fig:SCA}{-3in}
			
		%(*@\lnote@*)
		%\lnnum{1}

		
	
	 
	\subsection*{Maximum distance positioning (Attractive)}
	\subsection*{Ally units (Repulsive)}
	\subsection*{Weapon cool down (Repulsive)}
	\subsection*{Edges and cliffs (Repulsive)}